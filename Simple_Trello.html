<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Trello</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .boards-container {
            display: flex;
            gap: 20px;
            overflow-x: auto;
            padding: 10px 0;
        }

        .board {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            padding: 20px;
            min-width: 300px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .board-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e0e0e0;
        }

        .board-title {
            font-size: 1.4em;
            font-weight: 600;
            color: #333;
        }

        .delete-board {
            background: #ff4757;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9em;
        }

        .delete-board:hover {
            background: #ff3742;
        }

        .add-task-btn {
            width: 100%;
            padding: 12px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            margin-bottom: 15px;
            transition: background 0.3s;
        }

        .add-task-btn:hover {
            background: #45a049;
        }

        .tasks-container {
            min-height: 100px;
            padding: 10px;
            border-radius: 8px;
            background: rgba(240, 240, 240, 0.5);
        }

        .task {
            background: white;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            cursor: move;
            border-left: 4px solid #007bff;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .task:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .task-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 8px;
        }

        .task-title {
            font-weight: 600;
            color: #333;
            font-size: 1.1em;
            flex: 1;
        }

        .task-priority {
            display: flex;
            gap: 6px;
            margin-left: 10px;
        }

        .priority-dot {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            opacity: 0.4;
        }

        .priority-dot:hover {
            transform: scale(1.3);
            opacity: 0.7;
        }

        .priority-dot.active {
            opacity: 1;
            transform: scale(1.2);
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
        }

        .priority-high {
            background: #ff4757;
        }

        .priority-medium {
            background: #ffa502;
        }

        .priority-low {
            background: #2ed573;
        }

        .delete-task {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 3px 8px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8em;
            margin-left: 10px;
        }

        .task-description {
            color: #666;
            font-size: 0.9em;
            line-height: 1.4;
        }

        .dragging {
            opacity: 0.5;
            transform: rotate(5deg);
        }

        .drag-over {
            background: rgba(100, 200, 255, 0.2);
            border: 2px dashed #007bff;
        }

        .controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 500;
            transition: all 0.3s;
        }

        .btn-primary {
            background: #007bff;
            color: white;
        }

        .btn-primary:hover {
            background: #0056b3;
            transform: translateY(-2px);
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn-success:hover {
            background: #1e7e34;
            transform: translateY(-2px);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 12px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }

        .modal h3 {
            margin-bottom: 20px;
            color: #333;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            color: #555;
            font-weight: 500;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 1em;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #007bff;
        }

        .priority-selection {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }

        .priority-option {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 6px;
            transition: background 0.3s;
        }

        .priority-option:hover {
            background: rgba(0, 123, 255, 0.1);
        }

        .priority-option.selected {
            background: rgba(0, 123, 255, 0.15);
        }

        .priority-preview {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            transition: all 0.3s;
        }

        .priority-preview.active {
            transform: scale(1.2);
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
        }

        .form-actions {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }

        .btn-cancel {
            background: #6c757d;
            color: white;
        }

        .btn-cancel:hover {
            background: #545b62;
        }

        .task-high {
            border-left-color: #ff4757;
        }

        .task-medium {
            border-left-color: #ffa502;
        }

        .task-low {
            border-left-color: #2ed573;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ Simple Trello</h1>
            <p>–ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–π—Ç–µ –∑–∞–¥–∞—á–∏ –º–µ–∂–¥—É –∫–æ–ª–æ–Ω–∫–∞–º–∏! –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ü–≤–µ—Ç–Ω—ã–µ —Ç–æ—á–∫–∏ –¥–ª—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞.</p>
        </div>

        <div class="controls">
            <button class="btn btn-primary" onclick="showAddBoardModal()">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É</button>
            <button class="btn btn-success" onclick="addSampleData()">üéØ –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã</button>
        </div>

        <div class="boards-container" id="boardsContainer">
            <!-- –ö–æ–ª–æ–Ω–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —Å—é–¥–∞ -->
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–ª–æ–Ω–∫–∏ -->
    <div class="modal" id="addBoardModal">
        <div class="modal-content">
            <h3>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–æ–ª–æ–Ω–∫—É</h3>
            <div class="form-group">
                <label for="boardTitle">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏:</label>
                <input type="text" id="boardTitle" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –í —Ä–∞–±–æ—Ç–µ">
            </div>
            <div class="form-actions">
                <button class="btn btn-cancel" onclick="hideAddBoardModal()">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" onclick="addNewBoard()">–î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ -->
    <div class="modal" id="addTaskModal">
        <div class="modal-content">
            <h3>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É</h3>
            <div class="form-group">
                <label for="taskTitle">–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏:</label>
                <input type="text" id="taskTitle" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –°–æ–∑–¥–∞—Ç—å –¥–∏–∑–∞–π–Ω">
            </div>
            <div class="form-group">
                <label for="taskDescription">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                <textarea id="taskDescription" rows="3" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏..."></textarea>
            </div>
            <div class="form-group">
                <label>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:</label>
                <div class="priority-selection">
                    <div class="priority-option" onclick="selectPriority('high')">
                        <div class="priority-preview priority-high"></div>
                        <span>–í—ã—Å–æ–∫–∏–π</span>
                    </div>
                    <div class="priority-option" onclick="selectPriority('medium')">
                        <div class="priority-preview priority-medium"></div>
                        <span>–°—Ä–µ–¥–Ω–∏–π</span>
                    </div>
                    <div class="priority-option" onclick="selectPriority('low')">
                        <div class="priority-preview priority-low"></div>
                        <span>–ù–∏–∑–∫–∏–π</span>
                    </div>
                </div>
            </div>
            <div class="form-actions">
                <button class="btn btn-cancel" onclick="hideAddTaskModal()">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" onclick="addNewTask()">–î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <script>
        let boards = [];
        let currentBoardId = null;
        let currentPriority = 'medium';

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            loadFromLocalStorage();
            renderBoards();
            setupEventListeners();
        });

        // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ LocalStorage
        function loadFromLocalStorage() {
            const saved = localStorage.getItem('trelloData');
            if (saved) {
                boards = JSON.parse(saved);
            } else {
                boards = [
                    {
                        id: 1,
                        title: 'üìã –°–¥–µ–ª–∞—Ç—å',
                        tasks: [
                            { id: 1, title: '–ò–∑—É—á–∏—Ç—å JavaScript', description: '–ü—Ä–æ–π—Ç–∏ –∫—É—Ä—Å –ø–æ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–º—É JS', priority: 'high' },
                            { id: 2, title: '–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç', description: '–ù–∞—á–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –Ω–∞ React', priority: 'medium' }
                        ]
                    },
                    {
                        id: 2,
                        title: '‚ö° –í —Ä–∞–±–æ—Ç–µ',
                        tasks: [
                            { id: 3, title: '–î–∏–∑–∞–π–Ω —Å–∞–π—Ç–∞', description: '–°–æ–∑–¥–∞—Ç—å –º–∞–∫–µ—Ç –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã', priority: 'low' }
                        ]
                    },
                    {
                        id: 3,
                        title: '‚úÖ –ì–æ—Ç–æ–≤–æ',
                        tasks: [
                            { id: 4, title: '–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ', description: '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã', priority: 'medium' }
                        ]
                    }
                ];
                saveToLocalStorage();
            }
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ LocalStorage
        function saveToLocalStorage() {
            localStorage.setItem('trelloData', JSON.stringify(boards));
        }

        // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∑–∞–¥–∞—á –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É
        function sortTasksByPriority(tasks) {
            const priorityOrder = { high: 1, medium: 2, low: 3 };
            return tasks.sort((a, b) => priorityOrder[a.priority] - priorityOrder[b.priority]);
        }

        // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∫–æ–ª–æ–Ω–æ–∫
        function renderBoards() {
            const container = document.getElementById('boardsContainer');
            container.innerHTML = '';

            boards.forEach(board => {
                const sortedTasks = sortTasksByPriority([...board.tasks]);
                
                const boardElement = document.createElement('div');
                boardElement.className = 'board';
                boardElement.setAttribute('data-board-id', board.id);

                boardElement.innerHTML = `
                    <div class="board-header">
                        <div class="board-title">${board.title}</div>
                        <button class="delete-board" onclick="deleteBoard(${board.id})">√ó</button>
                    </div>
                    <button class="add-task-btn" onclick="showAddTaskModal(${board.id})">
                        + –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É
                    </button>
                    <div class="tasks-container" 
                         ondrop="drop(event)" 
                         ondragover="allowDrop(event)"
                         ondragenter="handleDragEnter(event)"
                         ondragleave="handleDragLeave(event)">
                        ${sortedTasks.map(task => `
                            <div class="task ${'task-' + task.priority}" 
                                 draggable="true" 
                                 ondragstart="drag(event)" 
                                 ondragend="dragEnd(event)"
                                 data-task-id="${task.id}">
                                <div class="task-header">
                                    <div class="task-title">${task.title}</div>
                                    <div class="task-priority">
                                        <div class="priority-dot priority-high ${task.priority === 'high' ? 'active' : ''}" 
                                             onclick="event.stopPropagation(); changeTaskPriority(${board.id}, ${task.id}, 'high')"></div>
                                        <div class="priority-dot priority-medium ${task.priority === 'medium' ? 'active' : ''}" 
                                             onclick="event.stopPropagation(); changeTaskPriority(${board.id}, ${task.id}, 'medium')"></div>
                                        <div class="priority-dot priority-low ${task.priority === 'low' ? 'active' : ''}" 
                                             onclick="event.stopPropagation(); changeTaskPriority(${board.id}, ${task.id}, 'low')"></div>
                                    </div>
                                    <button class="delete-task" onclick="deleteTask(${board.id}, ${task.id})">√ó</button>
                                </div>
                                <div class="task-description">${task.description}</div>
                            </div>
                        `).join('')}
                    </div>
                `;

                container.appendChild(boardElement);
            });
        }

        // –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ –∑–∞–¥–∞—á–∏
        function changeTaskPriority(boardId, taskId, newPriority) {
            const board = boards.find(b => b.id === boardId);
            if (board) {
                const task = board.tasks.find(t => t.id === taskId);
                if (task) {
                    task.priority = newPriority;
                    saveToLocalStorage();
                    renderBoards();
                }
            }
        }

        // –í—ã–±–æ—Ä –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–¥–∞—á–∏
        function selectPriority(priority) {
            currentPriority = priority;
            
            document.querySelectorAll('.priority-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            document.querySelectorAll('.priority-preview').forEach(preview => {
                preview.classList.remove('active');
            });
            
            event.currentTarget.classList.add('selected');
            const preview = event.currentTarget.querySelector('.priority-preview');
            preview.classList.add('active');
        }

        // Drag and Drop —Ñ—É–Ω–∫—Ü–∏–∏
        function allowDrop(ev) {
            ev.preventDefault();
        }

        function drag(ev) {
            ev.dataTransfer.setData("text", ev.target.getAttribute('data-task-id'));
            ev.target.classList.add('dragging');
        }

        function dragEnd(ev) {
            // –£–±–∏—Ä–∞–µ–º –∫–ª–∞—Å—Å dragging –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è (–¥–∞–∂–µ –µ—Å–ª–∏ –æ—Ç–º–µ–Ω–∏–ª–∏)
            ev.target.classList.remove('dragging');
        }

        function drop(ev) {
            ev.preventDefault();
            const taskId = parseInt(ev.dataTransfer.getData("text"));
            const targetBoard = findParentBoard(ev.target);
            
            if (targetBoard) {
                const targetBoardId = parseInt(targetBoard.getAttribute('data-board-id'));
                moveTask(taskId, targetBoardId);
            }

            // –£–±–∏—Ä–∞–µ–º –∫–ª–∞—Å—Å—ã drag-over
            document.querySelectorAll('.tasks-container').forEach(container => {
                container.classList.remove('drag-over');
            });

            // –£–±–∏—Ä–∞–µ–º –∫–ª–∞—Å—Å dragging —Å–æ –≤—Å–µ—Ö –∑–∞–¥–∞—á
            document.querySelectorAll('.task.dragging').forEach(task => {
                task.classList.remove('dragging');
            });
        }

        function handleDragEnter(ev) {
            if (ev.target.classList.contains('tasks-container')) {
                ev.target.classList.add('drag-over');
            }
        }

        function handleDragLeave(ev) {
            if (ev.target.classList.contains('tasks-container')) {
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –º—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –≤—ã—à–ª–∏ –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ—à–ª–∏ –Ω–∞ –¥–æ—á–µ—Ä–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç
                const rect = ev.target.getBoundingClientRect();
                const isOutside = (
                    ev.clientX <= rect.left ||
                    ev.clientX >= rect.right ||
                    ev.clientY <= rect.top ||
                    ev.clientY >= rect.bottom
                );
                
                if (isOutside) {
                    ev.target.classList.remove('drag-over');
                }
            }
        }

        function findParentBoard(element) {
            while (element && !element.getAttribute('data-board-id')) {
                element = element.parentElement;
            }
            return element;
        }

        // –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏
        function moveTask(taskId, targetBoardId) {
            let sourceBoard = null;
            let task = null;

            boards.forEach(board => {
                const taskIndex = board.tasks.findIndex(t => t.id === taskId);
                if (taskIndex !== -1) {
                    sourceBoard = board;
                    task = board.tasks[taskIndex];
                    board.tasks.splice(taskIndex, 1);
                }
            });

            if (task && sourceBoard.id !== targetBoardId) {
                const targetBoard = boards.find(b => b.id === targetBoardId);
                if (targetBoard) {
                    targetBoard.tasks.push(task);
                    saveToLocalStorage();
                    renderBoards();
                }
            }
        }

        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∞–º–∏
        function showAddBoardModal() {
            document.getElementById('addBoardModal').style.display = 'flex';
            document.getElementById('boardTitle').value = '';
            document.getElementById('boardTitle').focus();
        }

        function hideAddBoardModal() {
            document.getElementById('addBoardModal').style.display = 'none';
        }

        function addNewBoard() {
            const title = document.getElementById('boardTitle').value.trim();
            if (title) {
                const newBoard = {
                    id: Date.now(),
                    title: title,
                    tasks: []
                };
                boards.push(newBoard);
                saveToLocalStorage();
                renderBoards();
                hideAddBoardModal();
            }
        }

        function deleteBoard(boardId) {
            if (confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç—É –∫–æ–ª–æ–Ω–∫—É –∏ –≤—Å–µ –∑–∞–¥–∞—á–∏ –≤ –Ω–µ–π?')) {
                boards = boards.filter(board => board.id !== boardId);
                saveToLocalStorage();
                renderBoards();
            }
        }

        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏
        function showAddTaskModal(boardId) {
            currentBoardId = boardId;
            currentPriority = 'medium';
            document.getElementById('addTaskModal').style.display = 'flex';
            document.getElementById('taskTitle').value = '';
            document.getElementById('taskDescription').value = '';
            document.getElementById('taskTitle').focus();
            
            document.querySelectorAll('.priority-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            document.querySelectorAll('.priority-preview').forEach(preview => {
                preview.classList.remove('active');
            });
            
            const mediumOption = document.querySelector('.priority-option:nth-child(2)');
            if (mediumOption) {
                mediumOption.classList.add('selected');
                mediumOption.querySelector('.priority-preview').classList.add('active');
            }
        }

        function hideAddTaskModal() {
            document.getElementById('addTaskModal').style.display = 'none';
        }

        function addNewTask() {
            const title = document.getElementById('taskTitle').value.trim();
            const description = document.getElementById('taskDescription').value.trim();
            
            if (title && currentBoardId) {
                const newTask = {
                    id: Date.now(),
                    title: title,
                    description: description,
                    priority: currentPriority
                };

                const board = boards.find(b => b.id === currentBoardId);
                if (board) {
                    board.tasks.push(newTask);
                    saveToLocalStorage();
                    renderBoards();
                    hideAddTaskModal();
                }
            }
        }

        function deleteTask(boardId, taskId) {
            if (confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç—É –∑–∞–¥–∞—á—É?')) {
                const board = boards.find(b => b.id === boardId);
                if (board) {
                    board.tasks = board.tasks.filter(task => task.id !== taskId);
                    saveToLocalStorage();
                    renderBoards();
                }
            }
        }

        // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        function addSampleData() {
            const sampleTasks = [
                { title: '–°—Ä–æ—á–Ω—ã–π –±–∞–≥—Ñ–∏–∫—Å', description: '–ü–æ—á–∏–Ω–∏—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –±–∞–≥ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ', priority: 'high' },
                { title: '–ò–∑—É—á–∏—Ç—å React', description: '–ü—Ä–æ–π—Ç–∏ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Ç—É—Ç–æ—Ä–∏–∞–ª', priority: 'medium' },
                { title: '–û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é', description: '–î–æ–ø–∏—Å–∞—Ç—å README.md', priority: 'low' },
                { title: 'Code review', description: '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—É–ª-—Ä–µ–∫–≤–µ—Å—Ç –∫–æ–ª–ª–µ–≥–∏', priority: 'medium' }
            ];

            sampleTasks.forEach(task => {
                const todoBoard = boards.find(b => b.title.includes('–°–¥–µ–ª–∞—Ç—å'));
                if (todoBoard) {
                    todoBoard.tasks.push({
                        id: Date.now() + Math.random(),
                        ...task
                    });
                }
            });

            saveToLocalStorage();
            renderBoards();
        }

        function setupEventListeners() {
            document.addEventListener('click', function(event) {
                if (event.target.classList.contains('modal')) {
                    event.target.style.display = 'none';
                }
            });

            document.getElementById('boardTitle').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') addNewBoard();
            });

            document.getElementById('taskTitle').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') addNewTask();
            });

            // –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è —Å–±—Ä–æ—Å–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è
            document.addEventListener('dragend', function(ev) {
                if (ev.target.classList.contains('task')) {
                    ev.target.classList.remove('dragging');
                }
            });
        }
    </script>
</body>
</html>
