<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Trello</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .boards-container {
            display: flex;
            gap: 20px;
            overflow-x: auto;
            padding: 10px 0;
        }

        .board {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            padding: 20px;
            min-width: 300px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .board-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e0e0e0;
        }

        .board-title {
            font-size: 1.4em;
            font-weight: 600;
            color: #333;
        }

        .delete-board {
            background: #ff4757;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9em;
        }

        .delete-board:hover {
            background: #ff3742;
        }

        .add-task-btn {
            width: 100%;
            padding: 12px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            margin-bottom: 15px;
            transition: background 0.3s;
        }

        .add-task-btn:hover {
            background: #45a049;
        }

        .tasks-container {
            min-height: 100px;
            padding: 10px;
            border-radius: 8px;
            background: rgba(240, 240, 240, 0.5);
        }

        .task {
            background: white;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            cursor: move;
            border-left: 4px solid #007bff;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .task:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .task-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 8px;
        }

        .task-title {
            font-weight: 600;
            color: #333;
            font-size: 1.1em;
        }

        .delete-task {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 3px 8px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8em;
        }

        .task-description {
            color: #666;
            font-size: 0.9em;
            line-height: 1.4;
        }

        .dragging {
            opacity: 0.5;
            transform: rotate(5deg);
        }

        .drag-over {
            background: rgba(100, 200, 255, 0.2);
            border: 2px dashed #007bff;
        }

        .controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 500;
            transition: all 0.3s;
        }

        .btn-primary {
            background: #007bff;
            color: white;
        }

        .btn-primary:hover {
            background: #0056b3;
            transform: translateY(-2px);
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn-success:hover {
            background: #1e7e34;
            transform: translateY(-2px);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 12px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }

        .modal h3 {
            margin-bottom: 20px;
            color: #333;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            color: #555;
            font-weight: 500;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 1em;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #007bff;
        }

        .form-actions {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }

        .btn-cancel {
            background: #6c757d;
            color: white;
        }

        .btn-cancel:hover {
            background: #545b62;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ Simple Trello</h1>
            <p>–ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–π—Ç–µ –∑–∞–¥–∞—á–∏ –º–µ–∂–¥—É –∫–æ–ª–æ–Ω–∫–∞–º–∏!</p>
        </div>

        <div class="controls">
            <button class="btn btn-primary" onclick="showAddBoardModal()">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É</button>
            <button class="btn btn-success" onclick="addSampleData()">üéØ –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã</button>
        </div>

        <div class="boards-container" id="boardsContainer">
            <!-- –ö–æ–ª–æ–Ω–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —Å—é–¥–∞ -->
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–ª–æ–Ω–∫–∏ -->
    <div class="modal" id="addBoardModal">
        <div class="modal-content">
            <h3>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–æ–ª–æ–Ω–∫—É</h3>
            <div class="form-group">
                <label for="boardTitle">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏:</label>
                <input type="text" id="boardTitle" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –í —Ä–∞–±–æ—Ç–µ">
            </div>
            <div class="form-actions">
                <button class="btn btn-cancel" onclick="hideAddBoardModal()">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" onclick="addNewBoard()">–î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ -->
    <div class="modal" id="addTaskModal">
        <div class="modal-content">
            <h3>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É</h3>
            <div class="form-group">
                <label for="taskTitle">–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏:</label>
                <input type="text" id="taskTitle" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –°–æ–∑–¥–∞—Ç—å –¥–∏–∑–∞–π–Ω">
            </div>
            <div class="form-group">
                <label for="taskDescription">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                <textarea id="taskDescription" rows="3" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏..."></textarea>
            </div>
            <div class="form-actions">
                <button class="btn btn-cancel" onclick="hideAddTaskModal()">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" onclick="addNewTask()">–î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <script>
        let boards = [];
        let currentBoardId = null;

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            loadFromLocalStorage();
            renderBoards();
            setupEventListeners();
        });

        // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ LocalStorage
        function loadFromLocalStorage() {
            const saved = localStorage.getItem('trelloData');
            if (saved) {
                boards = JSON.parse(saved);
            } else {
                // –î–∞–Ω–Ω—ã–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
                boards = [
                    {
                        id: 1,
                        title: 'üìã –°–¥–µ–ª–∞—Ç—å',
                        tasks: [
                            { id: 1, title: '–ò–∑—É—á–∏—Ç—å JavaScript', description: '–ü—Ä–æ–π—Ç–∏ –∫—É—Ä—Å –ø–æ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–º—É JS' },
                            { id: 2, title: '–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç', description: '–ù–∞—á–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –Ω–∞ React' }
                        ]
                    },
                    {
                        id: 2,
                        title: '‚ö° –í —Ä–∞–±–æ—Ç–µ',
                        tasks: [
                            { id: 3, title: '–î–∏–∑–∞–π–Ω —Å–∞–π—Ç–∞', description: '–°–æ–∑–¥–∞—Ç—å –º–∞–∫–µ—Ç –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã' }
                        ]
                    },
                    {
                        id: 3,
                        title: '‚úÖ –ì–æ—Ç–æ–≤–æ',
                        tasks: [
                            { id: 4, title: '–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ', description: '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã' }
                        ]
                    }
                ];
                saveToLocalStorage();
            }
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ LocalStorage
        function saveToLocalStorage() {
            localStorage.setItem('trelloData', JSON.stringify(boards));
        }

        // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∫–æ–ª–æ–Ω–æ–∫
        function renderBoards() {
            const container = document.getElementById('boardsContainer');
            container.innerHTML = '';

            boards.forEach(board => {
                const boardElement = document.createElement('div');
                boardElement.className = 'board';
                boardElement.setAttribute('data-board-id', board.id);

                boardElement.innerHTML = `
                    <div class="board-header">
                        <div class="board-title">${board.title}</div>
                        <button class="delete-board" onclick="deleteBoard(${board.id})">√ó</button>
                    </div>
                    <button class="add-task-btn" onclick="showAddTaskModal(${board.id})">
                        + –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É
                    </button>
                    <div class="tasks-container" 
                         ondrop="drop(event)" 
                         ondragover="allowDrop(event)"
                         ondragenter="handleDragEnter(event)"
                         ondragleave="handleDragLeave(event)">
                        ${board.tasks.map(task => `
                            <div class="task" draggable="true" ondragstart="drag(event)" data-task-id="${task.id}">
                                <div class="task-header">
                                    <div class="task-title">${task.title}</div>
                                    <button class="delete-task" onclick="deleteTask(${board.id}, ${task.id})">√ó</button>
                                </div>
                                <div class="task-description">${task.description}</div>
                            </div>
                        `).join('')}
                    </div>
                `;

                container.appendChild(boardElement);
            });
        }

        // Drag and Drop —Ñ—É–Ω–∫—Ü–∏–∏
        function allowDrop(ev) {
            ev.preventDefault();
        }

        function drag(ev) {
            ev.dataTransfer.setData("text", ev.target.getAttribute('data-task-id'));
            ev.target.classList.add('dragging');
        }

        function drop(ev) {
            ev.preventDefault();
            const taskId = parseInt(ev.dataTransfer.getData("text"));
            const targetBoard = findParentBoard(ev.target);
            
            if (targetBoard) {
                const targetBoardId = parseInt(targetBoard.getAttribute('data-board-id'));
                moveTask(taskId, targetBoardId);
            }

            // –£–±–∏—Ä–∞–µ–º –∫–ª–∞—Å—Å—ã drag-over
            document.querySelectorAll('.tasks-container').forEach(container => {
                container.classList.remove('drag-over');
            });
        }

        function handleDragEnter(ev) {
            if (ev.target.classList.contains('tasks-container')) {
                ev.target.classList.add('drag-over');
            }
        }

        function handleDragLeave(ev) {
            if (ev.target.classList.contains('tasks-container')) {
                ev.target.classList.remove('drag-over');
            }
        }

        function findParentBoard(element) {
            while (element && !element.getAttribute('data-board-id')) {
                element = element.parentElement;
            }
            return element;
        }

        // –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏
        function moveTask(taskId, targetBoardId) {
            let sourceBoard = null;
            let task = null;

            // –ù–∞—Ö–æ–¥–∏–º –∑–∞–¥–∞—á—É –∏ –µ—ë –∏—Å—Ö–æ–¥–Ω—É—é –∫–æ–ª–æ–Ω–∫—É
            boards.forEach(board => {
                const taskIndex = board.tasks.findIndex(t => t.id === taskId);
                if (taskIndex !== -1) {
                    sourceBoard = board;
                    task = board.tasks[taskIndex];
                    board.tasks.splice(taskIndex, 1);
                }
            });

            // –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–¥–∞—á—É –≤ —Ü–µ–ª–µ–≤—É—é –∫–æ–ª–æ–Ω–∫—É
            if (task && sourceBoard.id !== targetBoardId) {
                const targetBoard = boards.find(b => b.id === targetBoardId);
                if (targetBoard) {
                    targetBoard.tasks.push(task);
                    saveToLocalStorage();
                    renderBoards();
                }
            }
        }

        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∞–º–∏
        function showAddBoardModal() {
            document.getElementById('addBoardModal').style.display = 'flex';
            document.getElementById('boardTitle').value = '';
            document.getElementById('boardTitle').focus();
        }

        function hideAddBoardModal() {
            document.getElementById('addBoardModal').style.display = 'none';
        }

        function addNewBoard() {
            const title = document.getElementById('boardTitle').value.trim();
            if (title) {
                const newBoard = {
                    id: Date.now(),
                    title: title,
                    tasks: []
                };
                boards.push(newBoard);
                saveToLocalStorage();
                renderBoards();
                hideAddBoardModal();
            }
        }

        function deleteBoard(boardId) {
            if (confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç—É –∫–æ–ª–æ–Ω–∫—É –∏ –≤—Å–µ –∑–∞–¥–∞—á–∏ –≤ –Ω–µ–π?')) {
                boards = boards.filter(board => board.id !== boardId);
                saveToLocalStorage();
                renderBoards();
            }
        }

        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏
        function showAddTaskModal(boardId) {
            currentBoardId = boardId;
            document.getElementById('addTaskModal').style.display = 'flex';
            document.getElementById('taskTitle').value = '';
            document.getElementById('taskDescription').value = '';
            document.getElementById('taskTitle').focus();
        }

        function hideAddTaskModal() {
            document.getElementById('addTaskModal').style.display = 'none';
        }

        function addNewTask() {
            const title = document.getElementById('taskTitle').value.trim();
            const description = document.getElementById('taskDescription').value.trim();
            
            if (title && currentBoardId) {
                const newTask = {
                    id: Date.now(),
                    title: title,
                    description: description
                };

                const board = boards.find(b => b.id === currentBoardId);
                if (board) {
                    board.tasks.push(newTask);
                    saveToLocalStorage();
                    renderBoards();
                    hideAddTaskModal();
                }
            }
        }

        function deleteTask(boardId, taskId) {
            if (confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç—É –∑–∞–¥–∞—á—É?')) {
                const board = boards.find(b => b.id === boardId);
                if (board) {
                    board.tasks = board.tasks.filter(task => task.id !== taskId);
                    saveToLocalStorage();
                    renderBoards();
                }
            }
        }

        // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        function addSampleData() {
            const sampleTasks = [
                { title: '–ò–∑—É—á–∏—Ç—å React', description: '–ü—Ä–æ–π—Ç–∏ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Ç—É—Ç–æ—Ä–∏–∞–ª' },
                { title: '–°–æ–∑–¥–∞—Ç—å API', description: '–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å backend –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞' },
                { title: '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ', description: '–ù–∞–ø–∏—Å–∞—Ç—å unit-—Ç–µ—Å—Ç—ã' },
                { title: '–î–µ–ø–ª–æ–π', description: '–í—ã–ª–æ–∂–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä' }
            ];

            sampleTasks.forEach(task => {
                const todoBoard = boards.find(b => b.title.includes('–°–¥–µ–ª–∞—Ç—å'));
                if (todoBoard) {
                    todoBoard.tasks.push({
                        id: Date.now() + Math.random(),
                        ...task
                    });
                }
            });

            saveToLocalStorage();
            renderBoards();
        }

        function setupEventListeners() {
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –æ–±–ª–∞—Å—Ç–∏
            document.addEventListener('click', function(event) {
                if (event.target.classList.contains('modal')) {
                    event.target.style.display = 'none';
                }
            });

            // Enter –≤ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–Ω–∞—Ö
            document.getElementById('boardTitle').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') addNewBoard();
            });

            document.getElementById('taskTitle').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') addNewTask();
            });
        }
    </script>
</body>
</html>